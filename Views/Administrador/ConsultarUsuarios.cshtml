@model List<EduConnect_Front.Dtos.ListadoUsuariosDto>
@{
    ViewData["Title"] = "Consultar Usuarios";
    Layout = "_Layout";
}
@section Styles {
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="stylesheet" href="~/estilos/consultarUsuarios.css">
    <link rel="stylesheet" href="~/estilos/popupUsuarios.css">

}
<main>
            <!-- ======= TÍTULO ======= -->
    <h1 class="titulo">🔍CONSULTAR USUARIOS</h1>

            <!-- ======= BARRA DE BÚSQUEDA ======= -->
            <div class="busqueda">
                <input type="text" placeholder="NÚMERO DE DOCUMENTO">
                <button>🔍</button>
            </div>

            <!-- ======= CONTENIDO PRINCIPAL ======= -->
            <div class="contenido">
                <div class="caja-tabla">
                <!-- ======= TABLA ======= -->
                <table class="tabla-usuarios">
                    <thead>
                        <tr>
                            <th>Nombre</th>
                            <th>Apellido</th>
                            <th>Rol</th>
                            <th>Estado</th>
                            <th>Acciones</th>
                        </tr>
                    </thead>
                <tbody>
                    @if (Model != null && Model.Any())
                    {
                        foreach (var u in Model)
                        {
                            <tr>
                                <td>@u.Nombre</td>
                                <td>@u.Apellido</td>
                                <td>@u.Rol</td>
                                <td class="estado">@u.Estado</td>

                                <td>
                                    <!-- Botón Ver Detalles -->
                                    <button type="button"
                                            class="boton-ver"
                                            title="Ver detalles"
                                            data-nombre="@u.Nombre"
                                            data-apellido="@u.Apellido"
                                            data-tipo="@u.TipoIdent"
                                            data-num="@u.NumIdent"
                                            data-tel="@u.TelUsu"
                                            data-correo="@u.Correo"
                                            data-carrera="@u.Carrera"
                                            data-semestre="@u.IdSemestre"
                                            data-rol="@u.Rol"
                                            data-estado="@u.Estado">
                                        <i class="fas fa-eye"></i>
                                    </button>

                                    <!-- Botón Editar -->
                                    <button class="boton-editar">
                                        <a asp-controller="Administrador" asp-action="EditarUsuario" asp-route-id="@u.IdUsu" class="boton-editar">
                                            <i class="fas fa-pen"></i>  
                                        </a>
                                    </button>

                                    <!-- Botón Eliminar/Inactivar -->
                                    <button type="button" class="boton-eliminar" title="Inactivar" data-id="@u.IdUsu">
                                        <i class="fas fa-trash"></i>
                                    </button>

                                </td>
                            </tr>
                        }
                    }
                    else
                    {
                        <tr>
                            <td colspan="9" style="text-align:center; padding:14px;">No hay usuarios para mostrar.</td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>

        <!-- ===== POPUP CONFIRMACIÓN ===== -->
            <div id="popup-confirmacion" class="popup" style="display:none;">
                <div class="popup-contenido popup-elim">
                    <p class="texto-elim">¿Desea inactivar este usuario?</p>
                    <button id="btn-si">Sí, confirmar</button>
                    <button id="btn-no">No, cancelar</button>
                </div>
            </div>

            <!-- ===== POPUP DETALLES ===== -->
            <div id="popup-detalles" class="popup" style="display:none;">
                <div class="popup-contenido">
                    <h3>Detalles del Usuario</h3>
                    <ul id="detalles-lista"></ul>
                    <button class="btn-cerrar-popup">Cerrar</button>
                </div>
            </div>

            
        
    
    <!-- ======= FILTROS ======= --> 
    <div class="caja-filtro-img">
        <div class="imagen-filtros"> <img src="~/img/NiñoLupa.png" alt="Niño con lupa"> </div> 
        <div class="panel-filtros"> 
                <h3>FILTRAR POR:</h3>
                <label for="facultad">Facultad</label> 
                <select id="facultad">
                    <option value="">Seleccionar</option> 
                    <option>Ingeniería</option> 
                    <option>Salud</option> 
                    <option>Artes</option> 
                </select> 
                <label for="carrera">Carrera</label> 
                <select id="carrera"> 
                    <option value="">Seleccionar</option> 
                    <option>Sistemas</option> 
                    <option>Electrónica</option> 
                    <option>Psicología</option> </select> 
                    <label for="semestre">Semestre</label> 
                    <select id="semestre"> <option value="">Seleccionar</option> 
                        <option>1</option> 
                        <option>2</option> 
                        <option>3</option> </select> 
                        <label for="estado">Estado</label>
                        <select id="estado"> 
                            <option value="">Seleccionar</option>
                            <option>Activo</option>
                            <option>Inactivo</option> 
                        </select>
    </div>
    </div> 
    </div>
    <script src="~/js/popupUsuarios.js"></script>
</main> 



