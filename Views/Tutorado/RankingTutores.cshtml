@{
    ViewData["Title"] = "Ranking de Tutores";
    Layout = "_Layout";
}
@section Styles {

    <link rel="stylesheet" href="~/css/rankingTutores.css" )">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">

}
<main>
    <!-- ====== TÍTULO ====== -->
    <h1>RANKING DE TUTORES</h1>

    <!-- ====== TOP 3 ====== -->
    <div class="caja-trofeo"><img src="~/img/Trofeo2.png" alt="Trofeo" class="trofeo" /></div>
    <div class="top3">
        <div class="top-card plata">
            <img src="~/img/avatars/avatar2.png" alt="Tutor 2">
            <h3>Nombre Tutor<br>Promedio ★★★★☆</h3>
        </div>
        <div class="top-card oro">
            <img src="~/img/avatars/avatar1.png" alt="Tutor 1">
            <h3>Nombre Tutor<br>Promedio ★★★★★</h3>
        </div>
        <div class="top-card bronce">
            <img src="~/img/avatars/avatar3.png" alt="Tutor 3">
            <h3>Nombre Tutor<br>Promedio ★★★☆☆</h3>
        </div>
    </div>

    <!-- ====== LISTADO ====== -->
    <div class="ranking-list">
        <div class="caja-num-info">
            <div class="caja-numero"><img src="~/img/Numero1.png" alt="Numero 1" class="numero1" /></div>
            <div class="ranking-item">
                <img src="~/img/avatars/avatar1.png" alt="Tutor">
                <div class="ranking-info">
                    <p><strong>Nombre</strong></p>
                    <p>Carrera</p>
                    <p>Semestre</p>
                    <p>Materia que domina</p>
                    <div class="estrellas-container" data-rating="4.8">
                        <div class="estrellas"></div>
                        <span class="promedio"></span>
                    </div>
                </div>
                <div class="ranking-buttons">
                    <button class="perfil">VER PERFIL</button>
                    <button class="solicitar">SOLICITAR TUTORIA</button>
                </div>
            </div>
        </div>

        <div class="caja-num-info">
            <div class="caja-numero"><img src="~/img/Numero2.png" alt="Trofeo" class="numero2" /></div>
            <div class="ranking-item">
                <img src="~/img/avatars/avatar2.png" alt="Tutor">
                <div class="ranking-info">
                    <p><strong>Nombre</strong></p>
                    <p>Carrera</p>
                    <p>Semestre</p>
                    <p>Materia que domina</p>
                    <div class="estrellas-container" data-rating="3.8">
                        <div class="estrellas"></div>
                        <span class="promedio"></span>
                    </div>
                </div>
                <div class="ranking-buttons">
                    <button class="perfil">VER PERFIL</button>
                    <button class="solicitar">SOLICITAR TUTORIA</button>
                </div>
            </div>
        </div>
        <div class="caja-num-info">
            <div class="caja-numero num2"><img src="~/img/Numero3.png" alt="Trofeo" class="numero3" /></div>
            <div class="ranking-item">
                <img src="~/img/avatars/avatar3.png" alt="Tutor">
                <div class="ranking-info">
                    <p><strong>Nombre</strong></p>
                    <p>Carrera</p>
                    <p>Semestre</p>
                    <p>Materia que domina</p>
                    <div class="estrellas-container" data-rating="3">
                        <div class="estrellas"></div>
                        <span class="promedio"></span>
                    </div>
                </div>
                <div class="ranking-buttons">
                    <button class="perfil">VER PERFIL</button>
                    <button class="solicitar">SOLICITAR TUTORIA</button>
                </div>
            </div>
        </div>
    </div>
</main>
<!-- ====== SCRIPT ESTRELLAS DINÁMICAS ====== -->
<script>
      function mostrarEstrellas(contenedor) {
      const rating = parseFloat(contenedor.dataset.rating);
      const estrellasDiv = contenedor.querySelector(".estrellas");
      const promedioSpan = contenedor.querySelector(".promedio");

      let html = "";
      for (let i = 1; i <= 5; i++) {
        if (i <= Math.floor(rating)) {
          html += '<i class="fas fa-star"></i>'; // llena
        } else if (i === Math.floor(rating) + 1) {
          const decimal = rating % 1;
          if (decimal >= 0.75) {
            html += '<i class="fas fa-star"></i>'; // se aproxima a llena
          } else if (decimal >= 0.25) {
            html += '<i class="fas fa-star-half-alt"></i>'; // media
          } else {
            html += '<i class="far fa-star"></i>'; // vacía
          }
        } else {
          html += '<i class="far fa-star"></i>'; // vacía
        }
      }

      estrellasDiv.innerHTML = html;
      promedioSpan.textContent = rating.toFixed(1) + " / 5";
    }

    document.querySelectorAll(".estrellas-container").forEach(mostrarEstrellas);


</script>
